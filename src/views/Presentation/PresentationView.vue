<script setup>
import { onMounted, onUnmounted } from "vue";
function splitText(text) {
  return text.split(""); // æŠŠå­—ä¸²æ‹†æˆé™£åˆ—
}
let observer;
//example components
import NavbarDefault from "../..//examples/navbars/NavbarDefault.vue";
import DefaultFooter from "../../examples/footers/FooterDefault.vue";
import Header from "../../examples/Header.vue";
import FilledInfoCard from "../../examples/cards/infoCards/FilledInfoCard.vue";


// sections
import Announcement from "./Sections/Announcement.vue";


//images
import vueMkHeader from "@/assets/img/banner.jpg";
import UsefulLinks from "./Sections/UsefulLinks.vue";
import History from "./Sections/History.vue";
//import Info from "@/examples/cards/infoCards/InfoSection.vue"
//hooks
const body = document.getElementsByTagName("body")[0];

onMounted(() => {
  observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.classList.add("show");
        observer.unobserve(entry.target); // åªè§¸ç™¼ä¸€æ¬¡
      }
    });
  });

  document.querySelectorAll(".text,.content").forEach((el) => observer.observe(el));
});

onUnmounted(() => {
  if (observer) observer.disconnect();
});
</script>

<template>
  <div class="container position-sticky z-index-sticky top-0">
    <div class="row">
      <div class="col-12">
        <NavbarDefault :sticky="true" />
      </div>
    </div>
  </div>
  <Header>
    <div
      class="page-header min-vh-75"
      :style="`
        background: 
          linear-gradient(rgba(255,255,255,0.1), rgba(255,255,255,0.55)), 
          url(${vueMkHeader});
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat; 
        width: 100%;
      `"
      loading="lazy"
    >
      <div class="container">
        <div class="row">
          <div class="col-lg-7 text-center mx-auto position-relative">
            <h1
              class="text-black pt-3 mt-n5 me-2"
              :style="{ display: 'inline-black ' }"
              
            >
              è‡ºåŒ—å¸‚ç«‹å¤§å­¸å­¸ç”Ÿæœƒ
            </h1>
            <p class="lead text-black px-5 mt-3" :style="{ fontWeight: '500', color: '#003D79' }">
              æˆ‘å€‘æ˜¯ä¸€ç¾¤ç†±å¿ƒçš„å­¸ç”Ÿçµ„æˆçš„çµ„ç¹” â¤ï¸<br>ç‚ºå­¸ç”Ÿè¬€ç¦åˆ©ã€ç‚ºå­¸ç”Ÿé¡§æ¬Šç›Š ğŸ’ª
            </p>
          </div>
        </div>
      </div>
    </div>
  </Header>

  <div class="card custom-shadow mx-3 mx-md-4 mt-n5">
    <div class="container mt-1">
      <div class="row">
        <div class="col-md-6 mb-5 mb-md-0">
          <Announcement />
        </div>
        <div class="col-md-6">
          <UsefulLinks />
        </div>
      </div>
      <hr class="my-4" />
      <div class="row">
        <div class="col-md-6 mb-5 mb-md-0">
          <History/>
        </div>
      </div>
    </div>
    <hr class="my-6" />
    <div class="text">
      <span 
        v-for="(char, i) in splitText('ç°¡ä»‹')" 
        :key="i" 
        :style="{ transitionDelay: `${i * 0.1}s` }"
      >
        {{ char }}
      </span>
      
      
    
    <hr class="my-5" />
    <p class="content">å­¸ç”Ÿæœƒæ˜¯åŒ—å¸‚å¤§æœ€é«˜å±¤ç´šçš„å­¸ç”Ÿè‡ªæ²»åœ˜é«”ï¼Œåˆ†ç‚ºå…©å¤§éƒ¨é–€ï¼Œåˆ†åˆ¥æ˜¯è¡Œæ”¿éƒ¨é–€ï¼ˆå­¸ç”Ÿæœƒï¼‰èˆ‡ç«‹æ³•éƒ¨é–€ï¼ˆå­¸ç”Ÿè­°æœƒï¼‰ï¼Œæˆ‘å€‘è‡´åŠ›æ–¼ç¶­è­·å­¸ç”Ÿæ¬Šç›Šï¼Œæˆç‚ºåŒå­¸é¢å°æ ¡å…§å•é¡Œæˆ–æƒ³è¡¨é”æ„è¦‹æ™‚æœ€ç›´æ¥ã€æœ€å¯é çš„çª—å£ã€‚
        æˆ‘å€‘é€éåƒèˆ‡æ ¡å‹™æœƒè­°ï¼Œå‚³é”å­¸ç”Ÿçš„ç«‹å ´èˆ‡éœ€æ±‚ï¼ŒåŒæ™‚èˆ‰è¾¦å¤šå…ƒæ´»å‹•ï¼Œè®“åŒå­¸èƒ½æŠ•å…¥æ ¡åœ’å…¬å…±äº‹å‹™ï¼Œå»ºç«‹å½¼æ­¤çš„é€£çµæ„Ÿã€‚å­¸ç”Ÿæœƒæˆå“¡ä¾†è‡ªä¸åŒç³»æ‰€èˆ‡å¹´ç´šï¼Œå› ç‚ºå°å­¸æ ¡çš„é—œå¿ƒèˆ‡å…¬å…±äº‹å‹™çš„ç†±æƒ…è€Œèšåœ¨ä¸€èµ·ï¼Œå …ä¿¡å­¸ç”Ÿçš„è²éŸ³èƒ½å¸¶ä¾†æ”¹è®Šã€‚
    </p>
    <hr class="my-4" />
    <section id ="intro" class="py-5">
      <!-- è³‡è¨Šå…¬é–‹é é¢ -->
     <!-- <Info/> -->
    </section>
  </div>
</div>
  <DefaultFooter />
</template>
<style scoped>
.custom-shadow {
  padding: 2rem;
  box-shadow: 
    0 10px 15px rgba(0, 0, 0, 0.2),
    0 20px 40px rgba(0, 0, 0, 0.3);

  backdrop-filter: blur(10px);
  
  border-radius: 16px;
}
section {
padding: 3rem 1rem;
}

.text {
  font-size: 2rem;
  font-weight: bold;
  color: #333;
  display: inline-block;
  text-align: center;
}

.text span {
  display: inline-block;
  opacity: 0;
  transform: translateY(30px);
  transition: all 0.8s ease-out;
}

.text.show span {
  opacity: 1;
  transform: translateY(0);
}
.text-container {
  position: relative;
  z-index: 1;
}
.content {
  font-size: 1.2rem;
  color: #333;
  opacity: 0;
  transform: translateY(20px);
  transition: all 2s ease-out;
  max-width: 950px;  
  margin: 0 auto;    
  line-height: 1.6;  
  text-align: justify; 
}
.content.show {
  opacity: 1;
  transform: translateY(0);
}
</style>